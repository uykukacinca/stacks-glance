- &jellyfin-next-up
  <<: *jellyfin-base
  title: Jellyfin Next Up
  url: ${JELLYFIN_URL}/emby/Shows/NextUp
  frameless: true
  parameters:
    UserId: ${JELLYFIN_USER}
    EnableResumable: true
    StartIndex: 0
    Limit: 10
  template: |
    {{ $items := .JSON.Array `Items.#.{"id":Id,"title":Name,"url":{"fn":!"replace","val":Id,"href":!"${JELLYFIN_URL}/web/#/details?id={val}"},"header":[{"tpl":!"Title","class":!"color-highlight x-gray text-truncate"}],"image":{"fn":!"replace","val":SeriesId,"src":!"${JELLYFIN_URL}/Items/{val}/Images/Thumb","overlays":[{"class":!"x-br-t x-center x-play","tpl":!"PlayIcon"},{"tpl":!"TemplateArray","val":[{"tpl":!"Rating","val":CommunityRating,"class":!"x-blur x-blur-title"}],"class":!"x-ps-ss x-margin-gap x-gap-small"},{"tpl":!"ProgressBar","val":UserData.PlayedPercentage,"class":!"x-as-e"}]},"footer":[{"tpl":!"Episode","val":{"season":ParentIndexNumber,"episode":IndexNumber},"class":!"shrink-0"},{"tpl":!"Text","val":SeriesName,"class":!"block text-truncate"}]}` }}
    $include: /components/templates.gohtml
    $include: /components/media.gohtml
    $include: /components/media-container.gohtml
