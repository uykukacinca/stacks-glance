widget: &widget-newswire-base
  type: custom-api
  title: Newswire
  cache: *short-cache
  url: https://graph.rockstargames.com/
  title-url: https://www.rockstargames.com/newswire
  frameless: true
  headers:
    Accept: application/json
  #latest: null
  #music: 30
  #rockstar: 43
  #tips: 121
  #gtavi: 666
  #gtav: 702
  #updates: 705
  #fanvideos: 706
  #fanart: 708
  #creator: 728
  #rdr2: 736
  template: |
    {{ $collapseAfter := .Options.IntOr "collapse-after" 5 }}
    <div class="cards-grid collapsible-container" style="--cards-per-row: 1;" data-collapse-after-rows="{{ $collapseAfter }}">
    {{ range .JSON.Array "data.posts.results" }}
      <div class="card widget-content-frame thumbnail-parent">
        <img
          class="video-thumbnail thumbnail"
          loading="lazy"
          src="{{ .String "preview_images_parsed.newswire_block.d16x9" }}"
          alt=""
        />
        <div
          class="margin-top-10 margin-bottom-widget flex flex-column grow padding-inline-widget"
        >
          <a
            class="text-truncate-2-lines margin-bottom-auto color-primary-if-not-visited"
            href="https://www.rockstargames.com{{ .String "url" }}"
            target="_blank"
            rel="noreferrer"
            title="{{ .String "title" }}"
            >{{ .String "title" }}</a
          >
          <ul class="list-horizontal-text flex-nowrap margin-top-7">
            <li class="min-width-0">
              <a
                class="visited-indicator text-truncate block"
                href="https://www.rockstargames.com/newswire?tag_id={{ .String "primary_tags.0.id" }}"
                target="_blank"
                rel="noreferrer"
                title="{{ .String "primary_tags.0.name" }}"
                >{{ .String "primary_tags.0.name" }}</a
              >
            </li>
          </ul>
        </div>
      </div>
    {{ end }}
    </div>

widget: &widget-newswire-vi
  <<: *widget-newswire-base
  title: Newswire VI
  title-url: https://www.rockstargames.com/newswire?tag_id=666
  parameters:
    operationName: NewswireList
    variables: '{"tagId":666,"page":1,"metaUrl":"/newswire","limit":20,"locale":"en_us"}'
    extensions: '{"persistedQuery":{"version":1,"sha256Hash":"aef12205cdcce5be34d9a2aa5e118635df895336ea5ea87e73b6b5d8a18ccc1a"}}'
  options:
    collapse-after: 6

widget: &widget-newswire-v
  <<: *widget-newswire-base
  title: Newswire V
  title-url: https://www.rockstargames.com/newswire?tag_id=702
  parameters:
    operationName: NewswireList
    variables: '{"tagId":702,"page":1,"metaUrl":"/newswire","limit":20,"locale":"en_us"}'
    extensions: '{"persistedQuery":{"version":1,"sha256Hash":"aef12205cdcce5be34d9a2aa5e118635df895336ea5ea87e73b6b5d8a18ccc1a"}}'
  options:
    collapse-after: 6

widget: &widget-newswire-all
  <<: *widget-newswire-base
  title: Newswire
  parameters:
    operationName: NewswireList
    variables: '{"tagId":null,"page":1,"metaUrl":"/newswire","limit":20,"locale":"en_us"}'
    extensions: '{"persistedQuery":{"version":1,"sha256Hash":"aef12205cdcce5be34d9a2aa5e118635df895336ea5ea87e73b6b5d8a18ccc1a"}}'
  options:
    collapse-after: 6