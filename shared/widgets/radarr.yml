- &radarr-recently-added
  type: custom-api
  title: Radarr Latest Movies
  cache: *default-cache
  url: ${RADARR_URL}/api/v3/history
  parameters:
    eventType: 3
    includeMovie: true
    pageSize: 15
  headers:
    Accept: application/json
    X-Api-Key: ${RADARR_API_KEY}
  template: |
    {{ $collapseAfter := .Options.IntOr "collapse-after" 5 }}
    {{ $items := .JSON.Array "records" }}
    {{ if $items }}
      <ul class="list list-gap-14 collapsible-container" data-collapse-after="{{ $collapseAfter }}">
        {{ range $items }}
        <li>
            <div class="flex gap-10 row-reverse-on-mobile thumbnail-parent">
                <div class="shrink-0" data-popover-type="html">
                  <div data-popover-html="">
                      <img src="{{ .String "movie.images.0.remoteUrl" }}" loading="lazy" alt="">
                  </div>
                  <img class="twitch-category-thumbnail thumbnail cover-6-66 aspect-ratio-3-4" src="{{ .String "movie.images.0.remoteUrl" }}" alt="{{ .String "movie.title" }}" loading="lazy">
                </div>
                <div class="grow min-width-0">
                    <a href="${RADARR_URL}/movie/{{ .String "movie.titleSlug" }}" class="color-highlight size-title-dynamic block text-truncate" target="_blank" rel="noreferrer">{{ .String "movie.title" }}</a>
                    <ul class="list-horizontal-text flex-nowrap text-compact">
                        <li class="shrink-0">{{ .String "movie.year" }}</li>
                        <li class="shrink-0 flex gap-5 items-center">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="icon-14">
                            <path fill-rule="evenodd" d="M8 1.75a.75.75 0 0 1 .692.462l1.41 3.393 3.664.293a.75.75 0 0 1 .428 1.317l-2.791 2.39.853 3.575a.75.75 0 0 1-1.12.814L7.998 12.08l-3.135 1.915a.75.75 0 0 1-1.12-.814l.852-3.574-2.79-2.39a.75.75 0 0 1 .427-1.318l3.663-.293 1.41-3.393A.75.75 0 0 1 8 1.75Z" clip-rule="evenodd" />
                          </svg>
                          {{ .String "movie.ratings.imdb.value" }}
                        </li>
                        {{ $duration := .Int "movie.runtime" }}
                        {{ $hours := div $duration 60 }}
                        {{ $minutes := mod $duration 60 }}
                        <li class="flex gap-5 items-center">
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="icon-14">
                            <path fill-rule="evenodd" d="M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7.75-4.25a.75.75 0 0 0-1.5 0V8c0 .414.336.75.75.75h3.25a.75.75 0 0 0 0-1.5h-2.5v-3.5Z" clip-rule="evenodd" />
                          </svg>
                        {{ if gt $hours 0 }}
                          {{ printf "%dh %dm" $hours $minutes }}
                        {{ else }}
                          {{ printf "%dm" $minutes }}
                        {{ end }}
                        </li>
                    </ul>
                    <ul class="list-horizontal-text flex-nowrap text-truncate">
                      {{ range .Array "movie.genres" }}
                        <li>{{ .String "" }}</li>
                      {{ end }}
                    </ul>
                </div>
            </div>
        </li>
        {{ end }}
      </ul>
    {{ else }}
      <p>Failed to fetch data</p>
    {{ end }}

- &radarr-calendar
  type: custom-api
  title: Media Releases
  title-url: ${RADARR_URL}
  cache: 1s
  options:
    service: sonarr          # sonarr, radarr, or lidarr
    type: upcoming           # upcoming, recent, or missing
    size: medium             # small, medium, large, or huge
    collapse-after: 5
    show-grabbed: false
    interval: 30             # optional, days
    #startDay: 0             # optional, days
    #endDay: 14             # optional, days
    #sort-time: asc          # optional, asc or desc (default)
    #cover-proxy: "https://proxy.example.com/radarrcover" # optional
    api-base-url: ${RADARR_URL}
    key: ${RADARR_API_KEY}
    url: ${RADARR_URL}       # optional
  template: |
    - $include: radarr.gohtml
